{"version":3,"file":"js/108.aff371eb.js","mappings":"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","sources":["webpack://vue-skills/./src/views/table/MutipleColumnSort.vue","webpack://vue-skills/src/views/table/MutipleColumnSort.vue","webpack://vue-skills/./src/views/table/MutipleColumnSort.vue?7b1a","webpack://vue-skills/./src/views/table/MutipleColumnSort.vue?3b7f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h2',[_vm._v(\"基于elementUI的多列排序\")]),_c('h4',[_vm._v(\"仅排序当前页数据，排序字段根据选择顺序赋予优先级\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tempData,\"height\":\"500\",\"stripe\":\"\",\"header-cell-class-name\":_vm.handleHeaderClass},on:{\"header-click\":_vm.handleHeaderClick,\"sort-change\":_vm.handleTableSort}},_vm._l((_vm.columnList),function(item){return _c('el-table-column',{key:item.id,attrs:{\"prop\":item.prop,\"label\":item.label,\"sortable\":item.sortable,\"width\":item.width}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2>基于elementUI的多列排序</h2>\r\n    <h4>仅排序当前页数据，排序字段根据选择顺序赋予优先级</h4>\r\n    <el-table\r\n      :data=\"tempData\"\r\n      style=\"width: 100%\"\r\n      height=\"500\"\r\n      stripe\r\n      :header-cell-class-name=\"handleHeaderClass\"\r\n      @header-click=\"handleHeaderClick\"\r\n      @sort-change=\"handleTableSort\"\r\n      >\r\n      <el-table-column v-for=\"item in columnList\" :key=\"item.id\"\r\n        :prop=\"item.prop\"\r\n        :label=\"item.label\"\r\n        :sortable=\"item.sortable\"\r\n        :width=\"item.width\">\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      columnList: [\r\n        { id: 1, prop: 'date', label: '日期', sortable: 'custom', width: '180' },\r\n        { id: 2, prop: 'name', label: '姓名', sortable: 'custom', width: '180' },\r\n        { id: 3, prop: 'age', label: '年龄', sortable: 'custom', width: '180' },\r\n        { id: 4, prop: 'single', label: '单身', sortable: 'custom', width: '180' },\r\n        { id: 5, prop: 'balance', label: '余额', sortable: 'custom' }\r\n      ],\r\n      tableData: [{\r\n        date: '2023-05-01',\r\n        name: 'xxx1',\r\n        age: 26,\r\n        single: '是',\r\n        balance: 2000.1\r\n      }, {\r\n        date: '2023-05-01',\r\n        name: 'xxx2',\r\n        age: 18,\r\n        single: '是',\r\n        balance: 0\r\n      }, {\r\n        date: '2023-05-01',\r\n        name: 'xxx3',\r\n        age: 20,\r\n        single: '否',\r\n        balance: 1999\r\n      }, {\r\n        date: '2023-05-02',\r\n        name: 'xxx4',\r\n        age: 20,\r\n        single: '否',\r\n        balance: 2000\r\n      }, {\r\n        date: '2023-05-03',\r\n        name: 'xxx4',\r\n        age: 20,\r\n        single: '是',\r\n        balance: 2000.1\r\n      }], // 原数据\r\n      tempData: [], // 排序后的数据\r\n      sortList: [] // 用于表格数据排序\r\n    }\r\n  },\r\n  created () {\r\n    this.tempData = Object.assign([], this.tableData)\r\n  },\r\n  methods: {\r\n    // -----------------------------------------------自定义函数-----------------------------------------------\r\n    updateSortOrder (column) {\r\n      // column.order 默认只能有一个不为 null，也就是说其它列的 order 改变时，原有的 order 会被置为 null\r\n      // 所以用另一个字段 multiOrder 保存 order 状态\r\n      column.multiOrder = column.order\r\n      // 更新 sortList\r\n      const index = this.sortList.findIndex(item => item.prop === column.property)\r\n      if (index !== -1) {\r\n        this.sortList.splice(index, 1)\r\n      }\r\n      if (column.order !== null) {\r\n        this.sortList.push({ prop: column.property, order: column.order })\r\n      }\r\n      // sort\r\n      this.sortTableData()\r\n    },\r\n    // 根据某一项比较\r\n    compareData (prop, a, b, order) {\r\n      const orderFactor = order === 'ascending' ? 1 : -1\r\n      if (a[prop] < b[prop]) {\r\n        return -1 * orderFactor\r\n      }\r\n      if (a[prop] > b[prop]) {\r\n        return 1 * orderFactor\r\n      }\r\n      return 0\r\n    },\r\n    // 根据 sortList 对 data 进行排序\r\n    sortTableData () {\r\n      this.tempData = Object.assign([], this.tableData)\r\n      this.tempData.sort((a, b) => {\r\n        for (const item of this.sortList) {\r\n          const tempResult = this.compareData(item.prop, a, b, item.order)\r\n          if (tempResult) {\r\n            return tempResult\r\n          }\r\n        }\r\n        return 0\r\n      })\r\n    },\r\n    // -----------------------------------------------el-table 事件-----------------------------------------------\r\n    // 点击表头\r\n    // bug: 监听不到点击箭头\r\n    handleHeaderClick (column) {\r\n      // this.updateSortOrder(column)\r\n    },\r\n    // 点击箭头\r\n    handleTableSort ({ column }) {\r\n      this.updateSortOrder(column)\r\n    },\r\n    // 把 multiOrder 同步给 order\r\n    handleHeaderClass ({ column }) {\r\n      column.order = column.multiOrder\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MutipleColumnSort.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MutipleColumnSort.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MutipleColumnSort.vue?vue&type=template&id=117401ee&scoped=true&\"\nimport script from \"./MutipleColumnSort.vue?vue&type=script&lang=js&\"\nexport * from \"./MutipleColumnSort.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"117401ee\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_v","staticStyle","attrs","tempData","handleHeaderClass","on","handleHeaderClick","handleTableSort","_l","columnList","item","key","id","prop","label","sortable","width","staticRenderFns","data","tableData","date","name","age","single","balance","sortList","created","Object","assign","methods","updateSortOrder","column","multiOrder","order","index","findIndex","property","splice","push","sortTableData","compareData","a","b","orderFactor","sort","tempResult","component"],"sourceRoot":""}