"use strict";(self["webpackChunkvue_skills"]=self["webpackChunkvue_skills"]||[]).push([[462],{462:function(t,e,r){r.r(e),r.d(e,{default:function(){return k}});var a=function(){var t=this,e=t._self._c;return t.ifShow?e("Cube",{on:{reset:t.recover}}):t._e()},n=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{ref:"cube",staticClass:"cube"},[t._l(9,(function(r){return e("div",{key:`front_${r}`,staticStyle:{"background-color":"#b8f1ed"},style:t.getStyle(r,"front"),attrs:{"data-index":t.getIndex(r,"front")}})})),t._l(9,(function(r){return e("div",{key:`back_${r}`,staticStyle:{"background-color":"#f1707d"},style:t.getStyle(r,"back"),attrs:{"data-index":t.getIndex(r,"back")}})})),t._l(9,(function(r){return e("div",{key:`left_${r}`,staticStyle:{"background-color":"#fe997b"},style:t.getStyle(r,"left"),attrs:{"data-index":t.getIndex(r,"left")}})})),t._l(9,(function(r){return e("div",{key:`right_${r}`,staticStyle:{"background-color":"#b8f1cc"},style:t.getStyle(r,"right"),attrs:{"data-index":t.getIndex(r,"right")}})})),t._l(9,(function(r){return e("div",{key:`up_${r}`,staticStyle:{"background-color":"#f1f1b8"},style:t.getStyle(r,"up"),attrs:{"data-index":t.getIndex(r,"up")}})})),t._l(9,(function(r){return e("div",{key:`down_${r}`,staticStyle:{"background-color":"white"},style:t.getStyle(r,"down"),attrs:{"data-index":t.getIndex(r,"down")}})}))],2),t._l(3,(function(r){return e("i",{key:`arrow-up_${r}`,staticClass:"el-icon-arrow-up",style:{left:356+60*r+"px"},on:{click:function(e){return t.operate("up",r-2)}}})})),t._l(3,(function(r){return e("i",{key:`arrow-down_${r}`,staticClass:"el-icon-arrow-down",style:{left:356+60*r+"px"},on:{click:function(e){return t.operate("down",r-2)}}})})),t._l(3,(function(r){return e("i",{key:`arrow-left_${r}`,staticClass:"el-icon-arrow-left",style:{top:60*r-100+"px"},on:{click:function(e){return t.operate("left",r-2)}}})})),t._l(3,(function(r){return e("i",{key:`arrow-right_${r}`,staticClass:"el-icon-arrow-right",style:{top:60*r-100+"px"},on:{click:function(e){return t.operate("right",r-2)}}})})),e("i",{staticClass:"el-icon-refresh-right",on:{click:function(e){return t.operate("front_true")}}}),e("i",{staticClass:"el-icon-refresh-left",on:{click:function(e){return t.operate("front_false")}}}),e("span",{staticClass:"operate-box"},[e("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",round:""},on:{click:function(e){return t.randomMove()}}},[t._v("打乱")]),e("el-button",{attrs:{type:"success",round:""},on:{click:function(e){return t.recover()}}},[t._v("复原")])],1)],2)},i=[],s={name:"MagicCube",data(){return{cubeBlocks:[],upArray:["front","up","back","down"],leftArray:["front","left","back","right"],frontArray:["left","up","right","down"]}},mounted(){this.cubeBlocks=this.$refs.cube.children},methods:{getIndex(t,e){const r={};switch(r.index=t,r.location=e,e){case"front":r.row=parseInt((t-1)/3)-1,r.column=(t-1)%3-1,r.front=2;break;case"back":r.row=-(parseInt((t-1)/3)-1),r.column=(t-1)%3-1,r.front=-2;break;case"left":r.row=parseInt((t-1)/3)-1,r.column=-2,r.front=(t-1)%3-1;break;case"right":r.row=parseInt((t-1)/3)-1,r.column=2,r.front=-((t-1)%3-1);break;case"up":r.row=-2,r.column=(t-1)%3-1,r.front=parseInt((t-1)/3)-1;break;case"down":r.row=2,r.column=(t-1)%3-1,r.front=-(parseInt((t-1)/3)-1);break;default:break}return JSON.stringify(r)},getStyle(t,e){const r=parseInt((t-1)/3)-1,a=(t-1)%3-1,n={};switch(e){case"front":n.top=60*r+"px",n.left=60*a+"px",n.transform="translateZ(90px)";break;case"back":n.top=60*-r+"px",n.left=60*a+"px",n.transform="translateZ(-90px)";break;case"left":n.top=60*r+"px",n.transform=`translateX(-90px) rotateY(90deg) translateX(${60*-a}px)`;break;case"right":n.top=60*r+"px",n.transform=`translateX(90px) rotateY(90deg) translateX(${60*a}px)`;break;case"up":n.left=60*a+"px",n.transform=`translateY(-90px) rotateX(90deg) translateY(${60*r}px)`;break;case"down":n.left=60*a+"px",n.transform=`translateY(90px) rotateX(90deg) translateY(${60*-r}px)`;break;default:break}return n},operate(t,e){switch(t){case"up":this.handleUp(e);break;case"down":this.handleUp(e,!1);break;case"left":this.handleLeft(e);break;case"right":this.handleLeft(e,!1);break;case"front_true":this.handleFront(1);break;case"front_false":this.handleFront(1,!1);break;default:break}},handleUp(t,e=!0){const r=this.getBlocks(!1,t,!1);r.forEach((r=>{const a=JSON.parse(r.dataset.index),n=this.upArray.findIndex((t=>t===a.location));-1!==n?this.rotateFour(a,"up",e,n):t<0?this.rotateSelf(a,!e):this.rotateSelf(a,e),this.updateStyles(r,a),r.dataset.index=this.getIndex(a.index,a.location)}))},handleLeft(t,e=!0){const r=this.getBlocks(t,!1,!1);r.forEach((r=>{const a=JSON.parse(r.dataset.index),n=this.leftArray.findIndex((t=>t===a.location));-1!==n?t<0?("back"===a.location&&(a.index=a.index-6),a.location=e?this.leftArray[3===n?0:n+1]:this.leftArray[0===n?3:n-1],"back"===a.location&&(a.index=a.index+6)):this.rotateFour(a,"left",e,n):t<0?this.rotateSelf(a,e):this.rotateSelf(a,!e),this.updateStyles(r,a),r.dataset.index=this.getIndex(a.index,a.location)}))},handleFront(t,e=!0){const r=this.getBlocks(!1,!1,t);r.forEach((t=>{const r=JSON.parse(t.dataset.index),a=this.frontArray.findIndex((t=>t===r.location));-1!==a?this.rotateFour(r,"front",e,a):this.rotateSelf(r,e),this.updateStyles(t,r),t.dataset.index=this.getIndex(r.index,r.location)}))},getBlocks(t,e,r){let a,n;!1!==t?(a=t,n="row"):!1!==e?(a=e,n="column"):(a=r,n="front");let o=Array.from(this.cubeBlocks);return o=-1===a?o.filter((t=>JSON.parse(t.dataset.index)[n]<0)):1===a?o.filter((t=>JSON.parse(t.dataset.index)[n]>0)):o.filter((t=>0===JSON.parse(t.dataset.index)[n])),o},rotateSelf(t,e){5!==t.index&&(e?t.index%2===0?t.index=t.index%4===0?t.index/2:t.index/2+5:t.index=t.index<=3?3*t.index:3*t.index-20:t.index%2===0?t.index=t.index<6?2*t.index:2*(t.index-5):t.index=t.index%3===0?t.index/3:(t.index+20)/3)},rotateFour(t,e,r,a){switch(e){case"up":t.location=r?this.upArray[3===a?0:a+1]:this.upArray[0===a?3:a-1];break;case"left":"back"===t.location&&(t.index=10-t.index),t.location=r?this.leftArray[3===a?0:a+1]:this.leftArray[0===a?3:a-1],"back"===t.location&&(t.index=10-t.index);break;case"front":if(r){switch(a){case 0:t.index=10-t.index/3;break;case 1:t.index=1+3*(t.index-7);break;case 2:t.index=3-(t.index-1)/3;break;case 3:t.index=3*t.index;break;default:break}t.location=this.frontArray[3===a?0:a+1]}else{switch(a){case 0:t.index=t.index/3;break;case 1:t.index=3*(10-t.index);break;case 2:t.index=7+(t.index-1)/3;break;case 3:t.index=1+3*(3-t.index);break;default:break}t.location=this.frontArray[0===a?3:a-1]}break;default:break}},updateStyles(t,e){const r=this.getStyle(e.index,e.location);for(let a=0;a<t.style.length;a++){const e=t.style[a];"background-color"!==e&&(Object.keys(r).includes(e)||t.style.removeProperty(e))}Object.keys(r).forEach((e=>{t.style[e]=r[e]}))},randomMove(){const t=Math.floor(40*Math.random());for(let e=0;e<t;e++){const t=Math.floor(2*Math.random())-1;switch(Math.floor(6*Math.random())){case 0:this.operate("up",t);break;case 1:this.operate("down",t);break;case 2:this.operate("left",t);break;case 3:this.operate("right",t);break;case 4:this.operate("front_true",t);break;default:this.operate("front_false",t);break}}},recover(){this.$emit("reset")}}},c=s,l=r(1001),d=(0,l.Z)(c,o,i,!1,null,"2920b029",null),f=d.exports,u={name:"MagicCubeIndex",components:{Cube:f},data(){return{ifShow:!0}},methods:{recover(){this.ifShow=!1,this.$nextTick((()=>{this.ifShow=!0}))}}},h=u,x=(0,l.Z)(h,a,n,!1,null,null,null),k=x.exports}}]);
//# sourceMappingURL=462.0c736772.js.map