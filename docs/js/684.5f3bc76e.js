"use strict";(self["webpackChunkvue_skills"]=self["webpackChunkvue_skills"]||[]).push([[684],{6684:function(t,e,s){s.r(e),s.d(e,{default:function(){return n}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"imgs",on:{scroll:t.lazyLoad}},[e("img",{attrs:{"data-src":"./images/img1.jpeg",alt:"懒加载1"}}),e("img",{attrs:{"data-src":"./images/img2.jpeg",alt:"懒加载2"}}),e("img",{attrs:{"data-src":"./images/img3.jpeg",alt:"懒加载3"}}),e("img",{attrs:{"data-src":"./images/img4.jpeg",alt:"懒加载4"}}),e("img",{attrs:{"data-src":"./images/img1.jpeg",alt:"懒加载5"}}),e("img",{attrs:{"data-src":"./images/img2.jpeg",alt:"懒加载6"}}),e("img",{attrs:{"data-src":"./images/img3.jpeg",alt:"懒加载7"}}),e("img",{attrs:{"data-src":"./images/img4.jpeg",alt:"懒加载8"}})])},r=[],a={name:"LazyLoadIndex",data(){return{imgs:[],curIndex:0,timer:null}},mounted(){this.imgs=this.$refs.imgs.querySelectorAll("img"),this.renderImg(2)},methods:{lazyLoad({target:t}){this.throttle(t)},throttle({clientHeight:t,scrollTop:e}){this.timer||(this.timer=setTimeout((()=>{this.curIndex<this.imgs.length&&this.ifRenderNext(t,e)&&(console.log("load",this.curIndex+1),this.renderImg(this.curIndex+1)),this.timer=null}),500))},ifRenderNext(t,e){const s=this.imgs,i=this.curIndex-1;return s[i].offsetTop<=t+e+300},renderImg(t){const e=this.imgs;for(let s=this.curIndex;s<t;s++)e[s].src=e[s].dataset.src;this.curIndex=t}}},g=a,m=s(1001),l=(0,m.Z)(g,i,r,!1,null,"ab93c0be",null),n=l.exports}}]);
//# sourceMappingURL=684.5f3bc76e.js.map